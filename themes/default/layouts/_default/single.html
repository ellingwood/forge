{{ define "main" }}
<article class="mx-auto max-w-3xl px-4 py-12">
  {{ if .Cover }}
  <figure class="mb-8">
    <img src="{{ .Cover.Image }}" alt="{{ .Cover.Alt }}" class="w-full rounded-lg">
    {{ if .Cover.Caption }}<figcaption class="mt-2 text-center text-sm text-muted-foreground">{{ .Cover.Caption }}</figcaption>{{ end }}
  </figure>
  {{ end }}
  <header class="mb-8">
    <h1 class="text-4xl font-bold tracking-tight">{{ .Title }}</h1>
    {{ if not .Date.IsZero }}
    <div class="mt-4 flex items-center gap-4 text-sm text-muted-foreground">
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
      {{ if .ReadingTime }}<span>{{ .ReadingTime }} min read</span>{{ end }}
    </div>
    {{ end }}
    {{ if .Tags }}
    <div class="mt-3 flex flex-wrap gap-2">
      {{ range .Tags }}<a href="/tags/{{ slugify . }}/" class="badge">{{ . }}</a>{{ end }}
    </div>
    {{ end }}
  </header>
  <div class="prose prose-lg max-w-none">
    {{ .Content }}
  </div>
  {{ if or .PrevPage .NextPage }}
  <nav class="mt-12 flex justify-between border-t border-border pt-6">
    {{ if .PrevPage }}<a href="{{ .PrevPage.URL }}" class="text-sm text-muted-foreground hover:text-foreground">&larr; {{ .PrevPage.Title }}</a>{{ else }}<span></span>{{ end }}
    {{ if .NextPage }}<a href="{{ .NextPage.URL }}" class="text-sm text-muted-foreground hover:text-foreground">{{ .NextPage.Title }} &rarr;</a>{{ end }}
  </nav>
  {{ end }}
</article>
{{ end }}
